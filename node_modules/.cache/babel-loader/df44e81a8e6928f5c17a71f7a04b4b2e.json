{"ast":null,"code":"import './App.css';\nconst APIURL = \"https://api.themoviedb.org/3/discover/movie?api_key=04c35731a5ee918f014970082a0088b1\";\nconst IMGPATH = \"https://image.tmdb.org/t/p/w1280\";\nconst SEARCHAPI = \"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\";\nconst main = document.getElementById(\"content\");\nconst form = document.getElementById(\"form\");\nconst search = document.getElementById(\"search\"); // initially get fav movies\n\ngetMovies(APIURL);\n\nasync function getMovies(url) {\n  const resp = await fetch(url);\n  const respData = await resp.json();\n  console.log(respData);\n  showMovies(respData.results);\n}\n\nfunction showMovies(movies) {\n  // clear main\n  main.innerHTML = \"\";\n  movies.forEach(movie => {\n    const {\n      poster_path,\n      title,\n      vote_average,\n      overview\n    } = movie;\n    const movieEl = document.createElement(\"div\");\n    movieEl.classList.add(\"movie\");\n    movieEl.innerHTML = `\n            <img\n                src=\"${IMGPATH + poster_path}\"\n                alt=\"${title}\"\n            />\n            <div class=\"movie-info\">\n                <h3>${title}</h3>\n                <span class=\"${getClassByRate(vote_average)}\">${vote_average}</span>\n            </div>\n            <div class=\"overview\">\n                <h3>Overview:</h3>\n                ${overview}\n            </div>\n        `;\n    main.appendChild(movieEl);\n  });\n}\n\nfunction getClassByRate(vote) {\n  if (vote >= 8) {\n    return \"green\";\n  } else if (vote >= 5) {\n    return \"orange\";\n  } else {\n    return \"red\";\n  }\n}\n\nform.addEventListener(\"submit\", e => {\n  e.preventDefault();\n  const searchTerm = search.value;\n\n  if (searchTerm) {\n    getMovies(SEARCHAPI + searchTerm);\n    search.value = \"\";\n  }\n});\nexport default App;","map":{"version":3,"names":["APIURL","IMGPATH","SEARCHAPI","main","document","getElementById","form","search","getMovies","url","resp","fetch","respData","json","console","log","showMovies","results","movies","innerHTML","forEach","movie","poster_path","title","vote_average","overview","movieEl","createElement","classList","add","getClassByRate","appendChild","vote","addEventListener","e","preventDefault","searchTerm","value","App"],"sources":["/Users/kmiller/watchlist/watchlist/src/App.jsx"],"sourcesContent":["import './App.css';\n\nconst APIURL = \"https://api.themoviedb.org/3/discover/movie?api_key=04c35731a5ee918f014970082a0088b1\";\nconst IMGPATH = \"https://image.tmdb.org/t/p/w1280\";\nconst SEARCHAPI =\n    \"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\";\n\n\nconst main = document.getElementById(\"content\");\nconst form = document.getElementById(\"form\");\nconst search = document.getElementById(\"search\");\n\n// initially get fav movies\ngetMovies(APIURL);\n\nasync function getMovies(url) {\n    const resp = await fetch(url);\n    const respData = await resp.json();\n\n    console.log(respData);\n\n    showMovies(respData.results);\n}\n\nfunction showMovies(movies) {\n    // clear main\n    main.innerHTML = \"\";\n\n    movies.forEach((movie) => {\n        const { poster_path, title, vote_average, overview } = movie;\n\n        const movieEl = document.createElement(\"div\");\n        movieEl.classList.add(\"movie\");\n\n        movieEl.innerHTML = `\n            <img\n                src=\"${IMGPATH + poster_path}\"\n                alt=\"${title}\"\n            />\n            <div class=\"movie-info\">\n                <h3>${title}</h3>\n                <span class=\"${getClassByRate(\n                    vote_average\n                )}\">${vote_average}</span>\n            </div>\n            <div class=\"overview\">\n                <h3>Overview:</h3>\n                ${overview}\n            </div>\n        `;\n\n        main.appendChild(movieEl);\n    });\n}\n\nfunction getClassByRate(vote) {\n    if (vote >= 8) {\n        return \"green\";\n    } else if (vote >= 5) {\n        return \"orange\";\n    } else {\n        return \"red\";\n    }\n}\n\nform.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n\n    const searchTerm = search.value;\n\n    if (searchTerm) {\n        getMovies(SEARCHAPI + searchTerm);\n\n        search.value = \"\";\n    }\n});\n\nexport default App;\n"],"mappings":"AAAA,OAAO,WAAP;AAEA,MAAMA,MAAM,GAAG,sFAAf;AACA,MAAMC,OAAO,GAAG,kCAAhB;AACA,MAAMC,SAAS,GACX,4FADJ;AAIA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAb;AACA,MAAMC,IAAI,GAAGF,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;AACA,MAAME,MAAM,GAAGH,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf,C,CAEA;;AACAG,SAAS,CAACR,MAAD,CAAT;;AAEA,eAAeQ,SAAf,CAAyBC,GAAzB,EAA8B;EAC1B,MAAMC,IAAI,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAxB;EACA,MAAMG,QAAQ,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAvB;EAEAC,OAAO,CAACC,GAAR,CAAYH,QAAZ;EAEAI,UAAU,CAACJ,QAAQ,CAACK,OAAV,CAAV;AACH;;AAED,SAASD,UAAT,CAAoBE,MAApB,EAA4B;EACxB;EACAf,IAAI,CAACgB,SAAL,GAAiB,EAAjB;EAEAD,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAW;IACtB,MAAM;MAAEC,WAAF;MAAeC,KAAf;MAAsBC,YAAtB;MAAoCC;IAApC,IAAiDJ,KAAvD;IAEA,MAAMK,OAAO,GAAGtB,QAAQ,CAACuB,aAAT,CAAuB,KAAvB,CAAhB;IACAD,OAAO,CAACE,SAAR,CAAkBC,GAAlB,CAAsB,OAAtB;IAEAH,OAAO,CAACP,SAAR,GAAqB;AAC7B;AACA,uBAAuBlB,OAAO,GAAGqB,WAAY;AAC7C,uBAAuBC,KAAM;AAC7B;AACA;AACA,sBAAsBA,KAAM;AAC5B,+BAA+BO,cAAc,CACzBN,YADyB,CAE3B,KAAIA,YAAa;AACnC;AACA;AACA;AACA,kBAAkBC,QAAS;AAC3B;AACA,SAfQ;IAiBAtB,IAAI,CAAC4B,WAAL,CAAiBL,OAAjB;EACH,CAxBD;AAyBH;;AAED,SAASI,cAAT,CAAwBE,IAAxB,EAA8B;EAC1B,IAAIA,IAAI,IAAI,CAAZ,EAAe;IACX,OAAO,OAAP;EACH,CAFD,MAEO,IAAIA,IAAI,IAAI,CAAZ,EAAe;IAClB,OAAO,QAAP;EACH,CAFM,MAEA;IACH,OAAO,KAAP;EACH;AACJ;;AAED1B,IAAI,CAAC2B,gBAAL,CAAsB,QAAtB,EAAiCC,CAAD,IAAO;EACnCA,CAAC,CAACC,cAAF;EAEA,MAAMC,UAAU,GAAG7B,MAAM,CAAC8B,KAA1B;;EAEA,IAAID,UAAJ,EAAgB;IACZ5B,SAAS,CAACN,SAAS,GAAGkC,UAAb,CAAT;IAEA7B,MAAM,CAAC8B,KAAP,GAAe,EAAf;EACH;AACJ,CAVD;AAYA,eAAeC,GAAf"},"metadata":{},"sourceType":"module"}