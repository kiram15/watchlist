{"ast":null,"code":"var _jsxFileName = \"/Users/kmiller/watchlist/watchlist/src/App.jsx\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  const APIURL = \"https://api.themoviedb.org/3/discover/movie?api_key=04c35731a5ee918f014970082a0088b1\";\n  const IMGPATH = \"https://image.tmdb.org/t/p/w1280\";\n  const SEARCHAPI = \"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\";\n  const main = document.getElementById(\"content\");\n  const form = document.getElementById(\"form\");\n  const search = document.getElementById(\"search\");\n\n  const getMovies = async url => {\n    const resp = await fetch(url);\n    const respData = await resp.json();\n    console.log(respData);\n    showMovies(respData.results);\n  };\n\n  const showMovies = movies => {\n    // clear main\n    main.innerHTML = \"\";\n    movies.forEach(movie => {\n      const {\n        poster_path,\n        title,\n        vote_average,\n        overview\n      } = movie;\n      const movieEl = document.createElement(\"div\");\n      movieEl.classList.add(\"movie\");\n      movieEl.innerHTML = `\n              <img\n                  src=\"${IMGPATH + poster_path}\"\n                  alt=\"${title}\"\n              />\n              <div class=\"movie-info\">\n                  <h3>${title}</h3>\n                  <span class=\"${getClassByRate(vote_average)}\">${vote_average}</span>\n              </div>\n              <div class=\"overview\">\n                  <h3>Overview:</h3>\n                  ${overview}\n              </div>\n          `;\n      main.appendChild(movieEl);\n    });\n  };\n\n  const getClassByRate = vote => {\n    if (vote >= 8) {\n      return \"green\";\n    } else if (vote >= 5) {\n      return \"orange\";\n    } else {\n      return \"red\";\n    }\n  }; // form.addEventListener(\"submit\", e => {\n  // }); \n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const searchTerm = search.value;\n\n    if (searchTerm) {\n      getMovies(SEARCHAPI + searchTerm);\n      search.value = \"\";\n    }\n  } // initially get fav movies\n\n\n  getMovies(APIURL);\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Trending Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"form\",\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"search\",\n          placeholder: \"Search\",\n          class: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 7\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["App","APIURL","IMGPATH","SEARCHAPI","main","document","getElementById","form","search","getMovies","url","resp","fetch","respData","json","console","log","showMovies","results","movies","innerHTML","forEach","movie","poster_path","title","vote_average","overview","movieEl","createElement","classList","add","getClassByRate","appendChild","vote","handleSubmit","e","preventDefault","searchTerm","value"],"sources":["/Users/kmiller/watchlist/watchlist/src/App.jsx"],"sourcesContent":["import './App.css';\n\n\nfunction App() {    \n  const APIURL = \"https://api.themoviedb.org/3/discover/movie?api_key=04c35731a5ee918f014970082a0088b1\";\n  const IMGPATH = \"https://image.tmdb.org/t/p/w1280\";\n  const SEARCHAPI = \"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\"; \n\n\n  const main = document.getElementById(\"content\");\n  const form = document.getElementById(\"form\");\n  const search = document.getElementById(\"search\"); \n\n  const getMovies = async (url) => {\n      const resp = await fetch(url);\n      const respData = await resp.json(); \n\n      console.log(respData);  \n\n      showMovies(respData.results);\n  } \n\n  const showMovies = (movies) => {\n      // clear main\n      main.innerHTML = \"\";  \n\n      movies.forEach((movie) => {\n          const { poster_path, title, vote_average, overview } = movie; \n\n          const movieEl = document.createElement(\"div\");\n          movieEl.classList.add(\"movie\"); \n\n          movieEl.innerHTML = `\n              <img\n                  src=\"${IMGPATH + poster_path}\"\n                  alt=\"${title}\"\n              />\n              <div class=\"movie-info\">\n                  <h3>${title}</h3>\n                  <span class=\"${getClassByRate(\n                      vote_average\n                  )}\">${vote_average}</span>\n              </div>\n              <div class=\"overview\">\n                  <h3>Overview:</h3>\n                  ${overview}\n              </div>\n          `;  \n\n          main.appendChild(movieEl);\n      });\n  } \n\n  const getClassByRate = (vote) => {\n      if (vote >= 8) {\n          return \"green\";\n      } else if (vote >= 5) {\n          return \"orange\";\n      } else {\n          return \"red\";\n      }\n  } \n\n\n  // form.addEventListener(\"submit\", e => {\n  // }); \n\n  function handleSubmit(e) {\n    e.preventDefault(); \n\n    const searchTerm = search.value;  \n\n    if (searchTerm) {\n        getMovies(SEARCHAPI + searchTerm);  \n\n        search.value = \"\";\n    }\n  }\n\n  // initially get fav movies\n  getMovies(APIURL);  \n\n  return (\n      <body>\n          <header>\n              <h1>Trending Movies</h1>\n              <form id=\"form\" onSubmit={handleSubmit}>\n                  <input\n                      type=\"text\"\n                      id=\"search\"\n                      placeholder=\"Search\"\n                      class=\"search\"\n                  />\n              </form>\n          </header>\n          <div id=\"content\"></div>\n      </body>\n  )\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAO,WAAP;;;AAGA,SAASA,GAAT,GAAe;EACb,MAAMC,MAAM,GAAG,sFAAf;EACA,MAAMC,OAAO,GAAG,kCAAhB;EACA,MAAMC,SAAS,GAAG,4FAAlB;EAGA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAb;EACA,MAAMC,IAAI,GAAGF,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;EACA,MAAME,MAAM,GAAGH,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;;EAEA,MAAMG,SAAS,GAAG,MAAOC,GAAP,IAAe;IAC7B,MAAMC,IAAI,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAxB;IACA,MAAMG,QAAQ,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAvB;IAEAC,OAAO,CAACC,GAAR,CAAYH,QAAZ;IAEAI,UAAU,CAACJ,QAAQ,CAACK,OAAV,CAAV;EACH,CAPD;;EASA,MAAMD,UAAU,GAAIE,MAAD,IAAY;IAC3B;IACAf,IAAI,CAACgB,SAAL,GAAiB,EAAjB;IAEAD,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAW;MACtB,MAAM;QAAEC,WAAF;QAAeC,KAAf;QAAsBC,YAAtB;QAAoCC;MAApC,IAAiDJ,KAAvD;MAEA,MAAMK,OAAO,GAAGtB,QAAQ,CAACuB,aAAT,CAAuB,KAAvB,CAAhB;MACAD,OAAO,CAACE,SAAR,CAAkBC,GAAlB,CAAsB,OAAtB;MAEAH,OAAO,CAACP,SAAR,GAAqB;AAC/B;AACA,yBAAyBlB,OAAO,GAAGqB,WAAY;AAC/C,yBAAyBC,KAAM;AAC/B;AACA;AACA,wBAAwBA,KAAM;AAC9B,iCAAiCO,cAAc,CACzBN,YADyB,CAE3B,KAAIA,YAAa;AACrC;AACA;AACA;AACA,oBAAoBC,QAAS;AAC7B;AACA,WAfU;MAiBAtB,IAAI,CAAC4B,WAAL,CAAiBL,OAAjB;IACH,CAxBD;EAyBH,CA7BD;;EA+BA,MAAMI,cAAc,GAAIE,IAAD,IAAU;IAC7B,IAAIA,IAAI,IAAI,CAAZ,EAAe;MACX,OAAO,OAAP;IACH,CAFD,MAEO,IAAIA,IAAI,IAAI,CAAZ,EAAe;MAClB,OAAO,QAAP;IACH,CAFM,MAEA;MACH,OAAO,KAAP;IACH;EACJ,CARD,CAlDa,CA6Db;EACA;;;EAEA,SAASC,YAAT,CAAsBC,CAAtB,EAAyB;IACvBA,CAAC,CAACC,cAAF;IAEA,MAAMC,UAAU,GAAG7B,MAAM,CAAC8B,KAA1B;;IAEA,IAAID,UAAJ,EAAgB;MACZ5B,SAAS,CAACN,SAAS,GAAGkC,UAAb,CAAT;MAEA7B,MAAM,CAAC8B,KAAP,GAAe,EAAf;IACH;EACF,CA1EY,CA4Eb;;;EACA7B,SAAS,CAACR,MAAD,CAAT;EAEA,oBACI;IAAA,wBACI;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAM,EAAE,EAAC,MAAT;QAAgB,QAAQ,EAAEiC,YAA1B;QAAA,uBACI;UACI,IAAI,EAAC,MADT;UAEI,EAAE,EAAC,QAFP;UAGI,WAAW,EAAC,QAHhB;UAII,KAAK,EAAC;QAJV;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAYI;MAAK,EAAE,EAAC;IAAR;MAAA;MAAA;MAAA;IAAA,QAZJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAgBD;;KA/FQlC,G;AAiGT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}